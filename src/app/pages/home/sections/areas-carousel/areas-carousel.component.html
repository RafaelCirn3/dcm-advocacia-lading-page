<section id="areas" class="section areas">
  <div class="container">
    <app-section-title
      eyebrow="Areas de atuacao"
      title="Cobertura completa para demandas estrategicas"
      subtitle="Carrossel responsivo com as principais frentes de atendimento."
    ></app-section-title>

    <div class="carousel">
      <div class="carousel-header">
        <p class="muted">Navegue pelas areas com os controles ou teclado.</p>
        <div class="carousel-controls">
          <button
            class="control"
            type="button"
            aria-label="Voltar"
            (click)="prev()"
            [disabled]="activeIndex() === 0"
          >
            <svg viewBox="0 0 24 24" aria-hidden="true">
              <path
                fill="currentColor"
                d="M14.5 6.5 9 12l5.5 5.5-1.4 1.4L6.2 12l6.9-6.9z"
              />
            </svg>
          </button>
          <button
            class="control"
            type="button"
            aria-label="Avancar"
            (click)="next()"
            [disabled]="activeIndex() === pageCount() - 1"
          >
            <svg viewBox="0 0 24 24" aria-hidden="true">
              <path
                fill="currentColor"
                d="m9.5 6.5 1.4-1.4 6.9 6.9-6.9 6.9-1.4-1.4L15 12z"
              />
            </svg>
          </button>
        </div>
      </div>

      <div
        class="carousel-track"
        #track
        tabindex="0"
        aria-label="Carrossel de areas de atuacao"
        (scroll)="onScroll()"
        (keydown)="onKeydown($event)"
      >
        <article class="area-card" *ngFor="let area of areas">
          <div class="icon" aria-hidden="true">
            <svg viewBox="0 0 24 24">
              <path
                fill="currentColor"
                d="M12 2 4 6v6c0 5 3.6 9.3 8 10 4.4-.7 8-5 8-10V6l-8-4Zm0 3.1 5.2 2.6v4.3c0 3.4-2.1 6.6-5.2 7.3-3.1-.7-5.2-3.9-5.2-7.3V7.7L12 5.1Zm0 3.4-2.2 2.3 1.1 1.1L12 10l2.1 1.9 1.1-1.1L12 8.5Z"
              />
            </svg>
          </div>
          <h3>{{ area.title }}</h3>
          <p>{{ area.description }}</p>
          <a
            class="text-link"
            href="#"
            aria-label="Saiba mais sobre {{ area.title }}"
          >
            Saiba mais
          </a>
        </article>
      </div>

      <div class="carousel-indicators" role="tablist" aria-label="Indicadores">
        <button
          class="indicator"
          type="button"
          *ngFor="let index of indicators()"
          [class.active]="index === activeIndex()"
          [attr.aria-label]="'Ir para o slide ' + (index + 1)"
          [attr.aria-current]="index === activeIndex() ? 'true' : null"
          (click)="scrollToIndex(index)"
        ></button>
      </div>
    </div>
  </div>
</section>
